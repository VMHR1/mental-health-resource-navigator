<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dallas Youth Post-Discharge Resource Navigator (V1)</title>

  <style>
    :root{
      /* Warm, welcoming palette */
      --bg: #fbfaf7;
      --card: #ffffff;
      --text: #1f2937;
      --muted: #6b7280;
      --border: rgba(17, 24, 39, 0.10);

      --accent: #c65a3a;     /* terracotta */
      --accent2: #f2b27c;    /* warm peach */
      --accent3: #2f6f6d;    /* calm teal (sparingly) */

      --soft: rgba(198, 90, 58, 0.06);
      --soft2: rgba(242, 178, 124, 0.18);
      --shadow: 0 18px 50px rgba(17,24,39,0.08);

      --radius: 16px;
      --radius2: 22px;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(900px 450px at 10% 0%, rgba(242,178,124,0.25) 0%, transparent 55%),
        radial-gradient(900px 450px at 90% 0%, rgba(47,111,109,0.12) 0%, transparent 60%),
        var(--bg);
      color:var(--text);
    }

    /* Layout */
    header{
      max-width:1160px;
      margin:0 auto;
      padding:30px 18px 14px;
    }
    .brandRow{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }
    .brand{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    h1{
      margin:0;
      font-size:28px;
      letter-spacing:-0.02em;
      line-height:1.1;
    }
    .subtitle{
      margin:0;
      color:var(--muted);
      line-height:1.55;
      max-width:850px;
    }

    .wrap{ max-width:1160px; margin:0 auto; padding:0 18px 56px; }
    .grid{ display:grid; gap:16px; grid-template-columns: 1fr; }
    @media (min-width: 1040px){ .grid{ grid-template-columns: 430px 1fr; } }

    /* Cards */
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,1));
      border: 1px solid var(--border);
      border-radius: var(--radius2);
      padding: 16px;
      box-shadow: var(--shadow);
    }

    .hr{ height:1px; background: rgba(17,24,39,0.08); margin:14px 0; }

    .pill{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(17,24,39,0.10);
      color: var(--muted);
      background: rgba(255,255,255,0.70);
      backdrop-filter: blur(6px);
    }

    /* Friendly “callout badge” */
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      font-size:12px;
      border:1px solid rgba(198,90,58,0.22);
      background: rgba(198,90,58,0.06);
      color: #7a2e1c;
      max-width:100%;
    }

    /* Forms */
    label{ display:block; font-size:12px; color:var(--muted); margin:12px 0 6px; }
    select, input[type="text"]{
      width:100%;
      padding:11px 12px;
      border-radius:14px;
      border: 1px solid rgba(17,24,39,0.14);
      background: rgba(255,255,255,0.95);
      color: var(--text);
      outline:none;
      transition: box-shadow .18s ease, border-color .18s ease, transform .18s ease;
    }
    select:focus, input[type="text"]:focus{
      border-color: rgba(198,90,58,0.40);
      box-shadow: 0 0 0 4px rgba(242,178,124,0.25);
    }

    .row{ display:flex; gap:10px; }
    .row > div{ flex:1; }

    .btns{ display:flex; gap:10px; margin-top:14px; flex-wrap:wrap; }
    button{
      padding:11px 12px;
      border-radius:14px;
      border:1px solid rgba(17,24,39,0.12);
      background: rgba(255,255,255,0.85);
      color:var(--text);
      cursor:pointer;
      transition: transform .14s ease, box-shadow .14s ease, filter .14s ease;
    }
    button:hover{ transform: translateY(-1px); box-shadow: 0 10px 30px rgba(17,24,39,0.08); }
    button:active{ transform: translateY(0px); }

    button.primary{
      background: linear-gradient(180deg, rgba(198,90,58,0.98), rgba(172,70,46,0.98));
      border-color: rgba(198,90,58,0.35);
      color: white;
    }
    button.primary:hover{ filter: brightness(1.03); }

    .small{ font-size:12px; color:var(--muted); line-height:1.6; }

    /* Results header */
    .resultsHead{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }

    /* Sections inside results */
    .sectionCard{
      border: 1px solid rgba(17,24,39,0.10);
      background: rgba(255,255,255,0.88);
      border-radius: var(--radius2);
      padding: 14px;
      margin: 12px 0;
      transition: transform .16s ease, box-shadow .16s ease;
    }
    .sectionCard:hover{
      transform: translateY(-1px);
      box-shadow: 0 14px 44px rgba(17,24,39,0.06);
    }

    .sectionTitle{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      font-size:16px;
      margin:0;
    }

    .chipsWrap{ display:flex; gap:8px; flex-wrap:wrap; }
    .chip{
      font-size:12px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(17,24,39,0.10);
      background: rgba(255,255,255,0.88);
      color: var(--muted);
    }
    .chip strong{ color: var(--text); font-weight:600; }

    /* Compare collapse */
    .collapseBtn{
      width:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:10px 12px;
      border-radius:16px;
      border:1px solid rgba(17,24,39,0.12);
      background: linear-gradient(180deg, rgba(242,178,124,0.20), rgba(255,255,255,0.92));
      color: var(--text);
      cursor:pointer;
    }
    .collapseBody{
      margin-top:10px;
      overflow:hidden;
      max-height: 0;
      opacity: 0;
      transform: translateY(-6px);
      transition: max-height .30s ease, opacity .22s ease, transform .22s ease;
    }
    .collapseBody.open{
      max-height: 1000px; /* enough for content */
      opacity: 1;
      transform: translateY(0);
    }

    .compareGrid{
      display:grid;
      grid-template-columns: 170px 1fr 1fr 1fr;
      border: 1px solid rgba(17,24,39,0.10);
      border-radius: 18px;
      overflow:hidden;
      background: rgba(255,255,255,0.95);
    }
    .compareCell{
      padding:10px 10px;
      border-bottom:1px solid rgba(17,24,39,0.08);
      border-right:1px solid rgba(17,24,39,0.08);
      font-size:12px;
      color: var(--muted);
    }
    .compareCell.head{
      background: rgba(242,178,124,0.20);
      color: var(--text);
      font-weight:700;
    }
    .compareCell.label{
      color: var(--text);
      font-weight:700;
      background: rgba(255,255,255,0.85);
    }
    .compareCell:last-child{ border-right:none; }
    .compareRow:last-child .compareCell{ border-bottom:none; }

    /* Tabs */
    .sectionHeaderRow{ display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap; }

    .tabs{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
    .tab{
      padding:9px 11px;
      border-radius:999px;
      border:1px solid rgba(17,24,39,0.12);
      background: rgba(255,255,255,0.9);
      color: var(--muted);
      cursor:pointer;
      font-size:12px;
      transition: transform .14s ease, box-shadow .14s ease, background .14s ease;
    }
    .tab:hover{ transform: translateY(-1px); box-shadow: 0 10px 26px rgba(17,24,39,0.06); }
    .tab.active{
      color: white;
      border-color: rgba(198,90,58,0.25);
      background: linear-gradient(180deg, rgba(198,90,58,0.95), rgba(172,70,46,0.95));
    }

    .tabPanel{
      margin-top:10px;
      animation: fadeIn .22s ease both;
    }

    @keyframes fadeIn{
      from{ opacity:0; transform: translateY(6px); }
      to{ opacity:1; transform: translateY(0); }
    }

    .sortRow{ display:flex; align-items:center; gap:10px; margin:10px 0; flex-wrap:wrap; }
    .sortSelect{
      width:auto;
      min-width:160px;
      padding:9px 10px;
      border-radius:14px;
    }

    .subCard{
      margin-top:12px;
      padding:12px;
      border-radius:18px;
      border:1px solid rgba(17,24,39,0.10);
      background: rgba(242,178,124,0.14);
    }

    /* Provider cards */
    .providerCard{
      padding:12px;
      border-radius:18px;
      border:1px solid rgba(17,24,39,0.10);
      background: rgba(255,255,255,0.96);
      transition: transform .16s ease, box-shadow .16s ease;
    }
    .providerCard:hover{
      transform: translateY(-2px);
      box-shadow: 0 18px 44px rgba(17,24,39,0.08);
    }
    .providerTitle{ margin:0; font-size:14px; }
    .meta{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
    .tag{
      font-size:11px;
      padding:5px 9px;
      border-radius:999px;
      border:1px solid rgba(17,24,39,0.10);
      color: var(--muted);
      background: rgba(255,255,255,0.88);
    }

    a{ color: var(--accent); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    /* Subtle entrance for results on first render */
    .resultsEntrance{
      animation: fadeIn .28s ease both;
    }

    /* Print */
    @media print{
      body{ background:#fff; color:#000; }
      .card, .sectionCard, .providerCard{ box-shadow:none !important; }
      button{ display:none !important; }
      a{ color:#000; text-decoration:underline; }
    }
  </style>
</head>

<body>
  <header>
    <div class="brandRow">
      <div class="brand">
        <h1>Dallas Youth Post-Discharge Resource Navigator (V1)</h1>
        <p class="subtitle">
          Neutral, informational support to help families explore care options (PHP, IOP, outpatient therapy) in the Dallas area for ages 6–17.
          This tool does not rank or recommend providers and is not medical advice.
        </p>
      </div>
      <div class="pill">Dallas area • Ages 6–17 • V1</div>
    </div>
  </header>

  <div class="wrap">
    <div class="grid">
      <!-- Intake -->
      <section class="card" aria-label="Intake form">
        <div class="badge" style="margin-bottom:10px;">
          Built to reduce overwhelm: short questions, plain language, and a limited set of options.
        </div>

        <label for="zip">Dallas-area ZIP (optional)</label>
        <input id="zip" type="text" inputmode="numeric" placeholder="e.g., 75201" />

        <label for="seeking">What are you exploring right now? (select one)</label>
        <select id="seeking">
          <option value="info" selected>Information about care options (PHP, IOP, therapy)</option>
          <option value="php">Partial Hospitalization Program (PHP)</option>
          <option value="iop">Intensive Outpatient Program (IOP)</option>
          <option value="therapy">Outpatient therapy</option>
          <option value="not_sure">Not sure yet</option>
        </select>

        <label for="event">Was there a recent event or change? (optional)</label>
        <select id="event">
          <option value="prefer_not" selected>Prefer not to say</option>
          <option value="ed">Emergency department visit</option>
          <option value="inpatient">Recent inpatient psychiatric hospitalization</option>
          <option value="school">Recommendation from school staff</option>
          <option value="clinician">Recommendation from a clinician</option>
          <option value="change">Changes in mood/behavior/functioning</option>
          <option value="ongoing">Ongoing concerns without a specific event</option>
        </select>

        <label for="timing">When are you hoping to connect with support? (optional)</label>
        <select id="timing">
          <option value="info_only" selected>Just gathering information right now</option>
          <option value="asap">As soon as possible</option>
          <option value="few_days">In the next few days</option>
          <option value="week">Within the next week</option>
        </select>

        <div class="row">
          <div>
            <label for="ageBand">Age (6–17)</label>
            <select id="ageBand">
              <option value="6-8">6–8</option>
              <option value="9-11">9–11</option>
              <option value="12-14" selected>12–14</option>
              <option value="15-17">15–17</option>
            </select>
          </div>
          <div>
            <label for="setting">Setting preference</label>
            <select id="setting">
              <option value="either" selected>Either is fine</option>
              <option value="in_person">In-person</option>
              <option value="telehealth">Virtual / telehealth</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div>
            <label for="insurance">Insurance</label>
            <select id="insurance">
              <option value="insured" selected>Private insurance</option>
              <option value="medicaid">Medicaid / CHIP</option>
              <option value="uninsured">Uninsured</option>
              <option value="unknown">Not sure</option>
            </select>
          </div>
          <div>
            <label for="language">Language preference</label>
            <select id="language">
              <option value="any" selected>Any</option>
              <option value="english">English</option>
              <option value="spanish">Spanish</option>
            </select>
          </div>
        </div>

        <div class="btns">
          <button class="primary" id="showBtn">Show information & resources</button>
          <button id="resetBtn">Reset</button>
        </div>

        <div class="hr"></div>
        <p class="small">
          Privacy note: this V1 tool does not ask for diagnoses or store identifying information.
          It is designed to help families understand options and find resources.
        </p>
      </section>

      <!-- Results -->
      <section class="card" aria-label="Results" id="resultsPanel">
        <div class="resultsHead">
          <div>
            <h2 style="margin:0; font-size:18px;">Care options and Dallas-area resources (ages 6–17)</h2>
            <p class="small" style="margin:6px 0 0;">
              This page provides neutral information about levels of care and lists resources that match the filters you selected.
              Items are not ranked or recommended.
            </p>
          </div>
          <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
            <div class="pill" id="countsPill">PHP: 0 · IOP: 0 · Therapy: 0</div>
            <button id="editFiltersBtn" title="Edit filters">Edit filters</button>
          </div>
        </div>

        <div class="hr"></div>
        <div class="chipsWrap" id="chipsWrap" aria-label="Selected filters"></div>

        <div class="sectionCard" aria-label="Safety section">
          <h3 class="sectionTitle">
            <span>If safety becomes a concern</span>
            <span class="pill">Support options</span>
          </h3>
          <p class="small" style="margin-top:8px;">
            Some families choose to use crisis supports if concerns increase or feel unmanageable.
          </p>
          <ul class="small">
            <li><strong>Emergency:</strong> Call 911 or go to the nearest emergency department.</li>
            <li><strong>988:</strong> Call or text 988 for the Suicide &amp; Crisis Lifeline.</li>
            <li><strong>Dallas crisis linkage:</strong> Metrocare 24/7 hotline (214-743-1215) • NTBHA 24/7 crisis hotline (1-866-260-8000).</li>
          </ul>
          <p class="small" style="margin-top:10px;">
            This is listed for information only; choosing when to use these options depends on your situation and judgment.
          </p>
        </div>

        <div class="sectionCard" aria-label="How to use">
          <h3 class="sectionTitle">
            <span>How families often use this page</span>
            <span class="pill">Overview</span>
          </h3>
          <ul class="small">
            <li>Learn what each level of care typically involves.</li>
            <li>Compare programs based on practical details (age eligibility, schedule, insurance, location, language).</li>
            <li>Use the call checklist near the bottom to gather the information you need.</li>
          </ul>
        </div>

        <div class="sectionCard" aria-label="Compare levels of care">
          <button class="collapseBtn" id="compareToggle" aria-expanded="false">
            <span>Compare PHP, IOP, and outpatient therapy</span>
            <span class="pill" id="comparePill">Expand</span>
          </button>

          <div id="comparePanel" class="collapseBody">
            <p class="small" style="margin-top:10px;">
              The descriptions below are general. Programs vary in structure, schedule, and eligibility.
            </p>

            <div class="compareGrid" role="table" aria-label="Comparison table">
              <div class="compareHead" role="row">
                <div class="compareCell head" role="columnheader"></div>
                <div class="compareCell head" role="columnheader">PHP</div>
                <div class="compareCell head" role="columnheader">IOP</div>
                <div class="compareCell head" role="columnheader">Outpatient therapy</div>
              </div>

              <div class="compareRow" role="row">
                <div class="compareCell label" role="rowheader">Typical schedule</div>
                <div class="compareCell" role="cell">Often daytime sessions multiple days/week</div>
                <div class="compareCell" role="cell">Often several days/week for a few hours/session</div>
                <div class="compareCell" role="cell">Often weekly (varies by clinician)</div>
              </div>

              <div class="compareRow" role="row">
                <div class="compareCell label" role="rowheader">Where the child is</div>
                <div class="compareCell" role="cell">At program during the day; home evenings</div>
                <div class="compareCell" role="cell">Home; attends scheduled sessions</div>
                <div class="compareCell" role="cell">Home; attends appointments as scheduled</div>
              </div>

              <div class="compareRow" role="row">
                <div class="compareCell label" role="rowheader">Care team structure</div>
                <div class="compareCell" role="cell">Program team; may include psychiatry and groups</div>
                <div class="compareCell" role="cell">Program team; groups and structured support</div>
                <div class="compareCell" role="cell">Single clinician or small practice team</div>
              </div>

              <div class="compareRow" role="row">
                <div class="compareCell label" role="rowheader">Family involvement</div>
                <div class="compareCell" role="cell">May include caregiver sessions or family components</div>
                <div class="compareCell" role="cell">May include caregiver sessions or family compo
