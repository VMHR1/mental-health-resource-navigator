<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Texas Youth Mental Health Resource Finder</title>
  <meta name="description" content="A neutral directory of adolescent and youth mental health programs across the Dallas-Fort Worth Metroplex. Filter by level of care, location, and needs." />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https:; connect-src 'self' https://api.github.com https://formspree.io; font-src 'self' data: https://fonts.gstatic.com; base-uri 'self'; form-action 'self' https://formspree.io;">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
  <meta http-equiv="Permissions-Policy" content="geolocation=self, microphone=(), camera=()">
  <link rel="stylesheet" href="styles.css?v=6">
  <!-- Defer non-critical JS to avoid blocking first paint. Order is preserved. -->
  <script defer src="security.js?v=2"></script>
  <script defer src="js/data-validator.js?v=3"></script>
  <script defer src="js/config/constants.js?v=3"></script>
  <script defer src="js/utils/helpers.js?v=3"></script>
  <script defer src="js/modules/storage.js?v=3"></script>
  <script defer src="js/modules/search.js?v=3"></script>
  <script defer src="js/modules/distance.js?v=2"></script>
  <script defer src="js/state-manager.js?v=3"></script>
  
</head>

<body>
  <a href="#treatmentSection" class="skip-link">Skip to search results</a>
  <div class="bg-gradient" aria-hidden="true"></div>

  <div class="crisis-banner" role="region" aria-label="Crisis information">
    <div class="inner">
      If someone is in immediate physical danger, call 911.
      <a href="tel:988">988 Lifeline</a>
      <a href="https://www.samhsa.gov/find-help/988" target="_blank" rel="noopener">What is 988?</a>
    </div>
  </div>

  <div class="container">
    <header>
      <div class="header-content">
        <div class="brand">
          <div class="mark" aria-hidden="true"></div>
          <div>
            <p class="kicker">Texas Youth Mental Health</p>
            <p class="title">Resource Finder</p>
          </div>
        </div>

        <div class="header-actions">
     <div class="pill" title="Neutral directory principles">
            <span class="dot" aria-hidden="true"></span>
            <span>Informational ‚Ä¢ Not ranked ‚Ä¢ Verify details</span>
          </div>
          <a class="btnlike btn-primary" href="submit.html" aria-label="Submit a program for review">Submit a program</a>
        </div>
      </div>

      <!-- Triage Split -->
      <div class="triage-split">
        <div class="triage-grid">
          <div class="triage-card emergency">
            <div class="triage-icon">üö®</div>
            <h2>Mental Health Crisis Support (988)</h2>
            <p>Suicidal thoughts, emotional distress, or mental health crisis - when there is no immediate physical danger</p>
            <a href="tel:988" class="btn-emergency">Call 988 Now</a>
            <button class="btn-secondary" id="viewCrisisResources">View All Crisis Resources</button>
          </div>
          
          <div class="triage-card planning">
            <div class="triage-icon">üóìÔ∏è</div>
            <h2>Ongoing Care & Treatment</h2>
            <p>Looking for ongoing treatment, assessments, or therapy</p>
            <button class="btn-primary btn-secondary" id="viewTreatmentOptions">Find Treatment Programs</button>
          </div>
        </div>
      </div>

      <!-- Trust Strip -->
      <div class="trust-strip">
        <div class="trust-grid">
          <div class="trust-item">
            <div class="trust-icon">‚úì</div>
            <div class="trust-text">
              <strong><span id="programCount">150+</span> Programs</strong>
              <span>Information may change‚Äîplease call to confirm</span>
            </div>
          </div>
          <div class="trust-item">
            <div class="trust-icon">üîí</div>
            <div class="trust-text">
              <strong>Privacy First</strong>
              <span>No tracking, no data collection</span>
            </div>
          </div>
          <div class="trust-item">
            <div class="trust-icon">‚öñÔ∏è</div>
            <div class="trust-text">
              <strong>100% Neutral</strong>
              <span>No paid placements or rankings</span>
            </div>
          </div>
          <div class="trust-item">
            <div class="trust-icon">üìû</div>
            <div class="trust-text">
              <strong>Direct Contact</strong>
              <span>Call programs directly, not us</span>
            </div>
          </div>
        </div>
      </div>

      <div class="hero">
        <div class="hero-copy">
          <h1>Find the right level of support‚Äîclearly, calmly, and without judgment.</h1>
          <p class="sub">
            Search programs by level of care (PHP, IOP, outpatient) and location. Crisis resources are kept separate by default for clarity.
          </p>

          <div class="hero-bullets">
            <label class="chip" title="Show crisis services (hotlines, mobile crisis, walk-in urgent care)">
              <input id="showCrisisTop" type="checkbox" />
              <span>Show crisis resources</span>
            </label>

            <label class="chip" title="Show virtual/telehealth offerings when noted">
              <input id="onlyVirtualTop" type="checkbox" />
              <span>Virtual only</span>
            </label>
          </div>

          <div id="loadWarn" class="warnBox" role="status" aria-live="polite"></div>
        </div>

        <div class="hero-visual" aria-label="Summary cards">
          <div class="floating-card">
            <strong>Level of care</strong>
            <span>PHP ‚Ä¢ IOP ‚Ä¢ Outpatient ‚Ä¢ Navigation</span>
          </div>
          <div class="floating-card">
            <strong>Family-friendly filters</strong>
            <span>Location, virtual, crisis toggle</span>
          </div>
          <div class="floating-card">
            <strong>Accuracy cue</strong>
            <span>Verification source + last verified date (when provided)</span>
          </div>
        </div>
      </div>
    </header>

    <section class="search-section" aria-label="Search and filters">
      <div class="search-header">
        <h3>Search programs across the Dallas-Fort Worth Metroplex</h3>
        <p>Neutral directory view. No endorsements. Always confirm details directly with the program.</p>
        <div class="filter-presets" style="display: flex; gap: 8px; flex-wrap: wrap; margin-top: 12px; justify-content: center;">
          <button type="button" class="filter-preset-btn" data-preset="teens-dallas">Teens in Dallas</button>
          <button type="button" class="filter-preset-btn" data-preset="crisis-support">Crisis Support</button>
          <button type="button" class="filter-preset-btn" data-preset="virtual-therapy">Virtual Therapy</button>
          <button type="button" class="filter-preset-btn" data-preset="iop-plano">IOP in Plano</button>
        </div>
      </div>

      <!-- Smart Search -->
      <div class="search-simple">
        <div class="input-group-primary">
          <label for="q">What are you looking for?</label>
          <div class="input-wrapper" style="position: relative;">
            <span class="input-icon" aria-hidden="true">üîç</span>
            <input id="q" type="search" placeholder="Try: 'IOP in Plano for 14-year-old' or 'crisis support'" autocomplete="off" aria-autocomplete="list" aria-expanded="false" aria-controls="search-suggestions" />
            <div id="search-suggestions" class="search-suggestions" role="listbox" aria-label="Search suggestions" style="display: none;"></div>
          </div>
        </div>
        
        <button class="btn-smart-search" type="button" id="smartSearchBtn">
          Find Programs ‚Üí
        </button>
        
        <button class="btn-advanced" id="showAdvanced" type="button">
          <span class="icon">‚öôÔ∏è</span>
          <span>Advanced Filters</span>
        </button>
        
        <button class="btn-advanced" id="resetTop" type="button" style="background: rgba(255,255,255,.85);">
          <span>Reset</span>
        </button>
      </div>

      <!-- Advanced Filters -->
      <div class="search-advanced" id="advancedFilters" style="display:none">
        <div class="search-grid">
          <div class="input-group">
            <label for="loc">Location</label>
            <select id="loc">
              <option value="">Any</option>
            </select>
          </div>

          <div class="input-group">
            <label class="dd-label">Age</label>
            <div class="dropdown" data-dd="age">
              <button type="button" class="dd-btn" id="ageBtn" aria-haspopup="listbox" aria-controls="ageMenu" aria-expanded="false">
                <span class="dd-value" id="ageBtnValue">Any age</span>
                <span class="dd-icon" aria-hidden="true">‚ñæ</span>
              </button>

              <div class="dd-menu" id="ageMenu" role="listbox" tabindex="-1" aria-labelledby="ageBtn">
                <div class="dd-option is-selected" role="option" aria-selected="true" data-value="">Any age<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="0">0<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="1">1<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="2">2<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="3">3<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="4">4<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="5">5<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="6">6<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="7">7<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="8">8<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="9">9<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="10">10<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="11">11<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="12">12<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="13">13<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="14">14<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="15">15<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="16">16<span class="dd-check" aria-hidden="true">‚úì</span></div>
                <div class="dd-option" role="option" aria-selected="false" data-value="17">17<span class="dd-check" aria-hidden="true">‚úì</span></div>
              </div>

              <select id="age" class="dd-native" aria-hidden="true" tabindex="-1">
                <option value="">Any age</option>
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
              </select>
            </div>
          </div>

          <div class="input-group">
            <label for="care">Level of care</label>
            <select id="care">
              <option value="">Any</option>
              <option value="Partial Hospitalization (PHP)">Partial Hospitalization (PHP)</option>
              <option value="Intensive Outpatient (IOP)">Intensive Outpatient (IOP)</option>
              <option value="Navigation">Navigation</option>
            </select>
          </div>

          <div class="input-group">
            <label for="insurance">Insurance</label>
            <select id="insurance">
              <option value="">Any insurance</option>
            </select>
          </div>
        </div>

        <div class="search-actions">
          <div class="toggles">
            <label class="toggle-chip">
              <input id="showCrisis" type="checkbox" />
              <span>Show crisis resources</span>
            </label>

            <label class="toggle-chip">
              <input id="onlyVirtual" type="checkbox" />
              <span>Virtual only</span>
            </label>
          </div>

          <div class="btns">
            <button id="reset" type="button">Reset</button>
            <button class="btn-primary" id="viewAll" type="button">View all</button>
          </div>
        </div>
      </div>

      <!-- Statewide/Advanced Filters Accordion -->
      <details class="advanced-filters-accordion" id="statewideFiltersAccordion" style="display: none;">
        <summary class="advanced-filters-summary" aria-expanded="false" aria-controls="statewideFiltersContent">
          <span class="advanced-filters-summary-text">Additional Filters</span>
          <span class="advanced-filters-summary-icon" aria-hidden="true">‚ñæ</span>
        </summary>
        <div class="advanced-filters-content" id="statewideFiltersContent">
          <div class="search-grid">
            <!-- County selector (conditional) -->
            <div class="input-group" id="countyFilterGroup" style="display: none;">
              <label for="county">County</label>
              <select id="county">
                <option value="">Any county</option>
              </select>
            </div>

            <!-- Service Domain toggle (conditional) -->
            <div class="input-group" id="serviceDomainFilterGroup" style="display: none;">
              <label for="serviceDomain">Service Type</label>
              <select id="serviceDomain">
                <option value="">Any type</option>
                <option value="mental_health">Mental Health</option>
                <option value="substance_use">Substance Use</option>
                <option value="co_occurring">Co-occurring</option>
              </select>
            </div>

            <!-- SUD-specific options (conditional) -->
            <div class="input-group" id="sudServicesFilterGroup" style="display: none;">
              <label for="sudServices">SUD Services</label>
              <select id="sudServices" multiple size="4">
                <option value="detox">Detox</option>
                <option value="otp">OTP (Opioid Treatment Program)</option>
                <option value="moud">MOUD (Medication for Opioid Use Disorder)</option>
                <option value="residential_sud">Residential SUD</option>
                <option value="outpatient_sud">Outpatient SUD</option>
                <option value="iop_sud">IOP SUD</option>
                <option value="php_sud">PHP SUD</option>
                <option value="osar_referral">OSAR Referral</option>
              </select>
            </div>

            <!-- Verified recency filter (conditional) -->
            <div class="input-group" id="verificationFilterGroup" style="display: none;">
              <label for="verificationRecency">Verified within</label>
              <select id="verificationRecency">
                <option value="">Any time</option>
                <option value="30">Last 30 days</option>
                <option value="90">Last 90 days</option>
                <option value="180">Last 180 days</option>
              </select>
            </div>
          </div>
        </div>
      </details>

      <div class="recent-searches" style="display:none;"></div>
    </section>

    <div class="results-header" aria-label="Results summary">
      <div class="results-info">
        <div class="results-count" id="totalCount">0</div>
        <div class="results-label" id="resultsLabel">matches</div>
        <div id="resultsCountAnnouncer" aria-live="polite" aria-atomic="true" class="sr-only"></div>
      </div>
      <div class="results-actions">
        <button type="button" class="btn-near-me" id="nearMeBtn" aria-label="Sort by distance from your location">
          <span class="icon">üìç</span>
          <span class="btn-text">Near Me</span>
        </button>
        <button type="button" class="btn-stop-location" id="stopLocationBtn" aria-label="Stop sharing location" style="display: none;">
          <span class="icon">üö´</span>
          <span class="btn-text">Stop sharing location</span>
        </button>
        <div class="sort-group">
          <label for="sortSelect" class="sr-only">Sort by</label>
          <select id="sortSelect" class="sort-select" aria-label="Sort results">
            <option value="relevance">Sort by relevance</option>
            <option value="name">Sort by name</option>
            <option value="verified">Recently verified</option>
            <option value="location">Location</option>
            <option value="distance">Distance</option>
          </select>
        </div>
        <button type="button" class="btn-icon" id="viewFavorites" title="View saved programs" aria-label="View saved programs">
          <span class="icon">‚≠ê</span>
          <span class="btn-text">Saved</span>
          <span class="badge-count" id="favoritesCount">0</span>
        </button>
        <button type="button" class="btn-icon" id="viewHistory" title="View call history" aria-label="View call history">
          <span class="icon">üìû</span>
          <span class="btn-text">History</span>
        </button>
        <button type="button" class="btn-icon" id="viewComparison" title="Compare selected programs" aria-label="Compare programs">
          <span class="icon">‚öñÔ∏è</span>
          <span class="btn-text">Compare</span>
          <span class="badge-count" id="comparisonCount">0</span>
        </button>
        <button type="button" class="btn-icon" id="shareFilters" title="Share current filters" aria-label="Share current search">
          <span class="icon">üîó</span>
          <span class="btn-text">Share</span>
        </button>
      </div>
    </div>
    
    <!-- Active Filter Chips -->
    <div class="active-filters-container" id="activeFiltersContainer" style="display: none;" role="region" aria-label="Active filters">
      <div class="active-filters-label">Active filters:</div>
      <div class="active-filters-chips" id="activeFiltersChips" role="list"></div>
    </div>

    <!-- Care levels explained accordion -->
    <details class="care-levels-guide">
      <summary class="care-levels-summary">
        <span class="care-levels-summary-text">Care levels explained</span>
        <span class="care-levels-summary-icon" aria-hidden="true">‚ñæ</span>
      </summary>
      <div class="care-levels-body">
        <div class="care-levels-grid">
          <div class="care-levels-section">
            <h4 class="care-levels-heading">PHP (Partial Hospitalization Program / "Day Program")</h4>
            <ul class="care-levels-list">
              <li>A structured mental health treatment program during the day, where the person returns home in the evening (no overnight stay).</li>
              <li>Provides more support than standard outpatient therapy (like once-weekly sessions).</li>
              <li>Often includes group therapy and may include individual/family sessions and medication management (varies by program).</li>
              <li>Many programs run most weekdays for several hours per day. Schedules vary by provider and age group.</li>
            </ul>
          </div>
          <div class="care-levels-section">
            <h4 class="care-levels-heading">IOP (Intensive Outpatient Program / "Several Days per Week")</h4>
            <ul class="care-levels-list">
              <li>A structured level of care that provides more support than standard outpatient therapy, while allowing the person to live at home.</li>
              <li>Often includes group therapy and may include individual/family sessions and medication management (varies by program).</li>
              <li>Commonly meets multiple days per week for a few hours per session (often after school or in the evening). Schedules vary by program.</li>
            </ul>
          </div>
          <div class="care-levels-section">
            <h4 class="care-levels-heading">Crisis: 988 vs 911</h4>
            <ul class="care-levels-list">
              <li><strong>988:</strong> Free, confidential, 24/7 emotional support for people in suicidal crisis or emotional distress when there is no immediate physical danger.</li>
              <li><strong>911:</strong> For immediate physical danger or emergencies.</li>
              <li>If someone is about to act on a suicide or self-harm plan and has means, treat as emergency/911. If distressed or having suicidal thoughts without immediate danger, 988 may be helpful. Emergency rooms are an option for urgent evaluation.</li>
            </ul>
          </div>
        </div>
        <p class="care-levels-disclaimer">Schedules and services vary by program. This site provides information, not medical advice. If there is an immediate safety concern, call 988 or 911.</p>
      </div>
    </details>

    <!-- What to ask when you call guide -->
    <details class="care-levels-guide" id="whatToAskGuide">
      <summary class="care-levels-summary">
        <span class="care-levels-summary-text">What to ask when you call a program</span>
        <span class="care-levels-summary-icon" aria-hidden="true">‚ñæ</span>
      </summary>
      <div class="care-levels-body">
        <ul class="care-levels-list">
          <li>Are you currently accepting new adolescents? Is there a waitlist?</li>
          <li>What ages do you serve?</li>
          <li>Do you accept my insurance? Is prior authorization required?</li>
          <li>What is the schedule (after school vs daytime)? How long is the program?</li>
          <li>What is the intake process and what documents are needed?</li>
          <li>Do you offer family sessions or caregiver involvement?</li>
          <li>What happens after hours if symptoms worsen?</li>
          <li>What costs should we expect (copays, self-pay, financial assistance)?</li>
        </ul>
      </div>
    </details>

    <section class="section" id="treatmentSection">
      <div class="sectionHead">
        <h2 id="sectionTitle">Treatment Programs</h2>
        <div class="count" id="treatmentCount">0 results</div>
      </div>
      <div class="grid" id="treatmentGrid" aria-live="polite"></div>
      <div class="empty-state" id="treatmentEmpty" style="display:none;" role="status">
        <div class="empty-icon">üîç</div>
        <h3>No programs match these filters</h3>
        <p>Try one of the options below.</p>
        <div class="empty-actions">
          <button data-action="clear-filters" class="btn-primary" type="button">
            Clear filters
          </button>
          <button data-action="broaden-search" class="btn-primary" type="button">
            Broaden search
          </button>
          <a href="#whatToAskGuide" class="empty-state-link" data-action="open-what-to-ask">Not sure what to ask? See questions for programs.</a>
        </div>
        <p class="empty-state-tip">Tip: Try a nearby ZIP or city, or remove age or location filters.</p>
      </div>
    </section>

    <footer>
      <p>This directory is informational and does not provide clinical advice. If you or someone is in immediate danger, call 911.</p>
      <p style="margin-top: 12px; font-size: 13px; color: var(--muted);">Privacy: We don't require an account. If you use location features, your location is used only to sort nearby programs and is not stored.</p>
      <p id="lastUpdated" style="margin-top: 8px; font-size: 12px; color: var(--muted2);"></p>
    </footer>
  </div>

  <!-- Favorites Modal -->
  <div id="favoritesModal" class="modal" role="dialog" aria-labelledby="favoritesModalTitle" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="favoritesModalTitle">Saved Programs</h2>
        <button type="button" class="modal-close" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body" id="favoritesList"></div>
      <div class="modal-footer" style="padding: 16px 20px; border-top: 1px solid rgba(15,23,42,.1); display: flex; justify-content: flex-end; gap: 12px;">
        <button type="button" class="btn-primary" id="exportFavorites" aria-label="Print or export saved programs list">Print/Export saved list</button>
      </div>
    </div>
  </div>

  <!-- Call History Modal -->
  <div id="historyModal" class="modal" role="dialog" aria-labelledby="historyModalTitle" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="historyModalTitle">Call History</h2>
        <button type="button" class="modal-close" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body" id="historyList"></div>
    </div>
  </div>

  <!-- Comparison Modal -->
  <div id="comparisonModal" class="modal" role="dialog" aria-labelledby="comparisonModalTitle" aria-hidden="true">
    <div class="modal-content comparison-modal-content">
      <div class="modal-header">
        <h2 id="comparisonModalTitle">Compare Programs</h2>
        <div style="display: flex; gap: 10px; align-items: center;">
          <button type="button" id="clearComparison" class="btn-ghost" style="font-size: 12px; padding: 6px 12px;">Clear all</button>
          <button type="button" class="modal-close" aria-label="Close modal">&times;</button>
        </div>
      </div>
      <div class="modal-body" id="comparisonList"></div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true"></div>

  <!-- Keyboard Shortcuts Help Modal -->
  <div id="helpModal" class="modal" role="dialog" aria-labelledby="helpModalTitle" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="helpModalTitle">Keyboard Shortcuts</h2>
        <button type="button" class="modal-close" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <div style="display: grid; gap: 16px;">
          <div>
            <strong>/</strong> - Focus search box
          </div>
          <div>
            <strong>?</strong> - Show this help dialog
          </div>
          <div>
            <strong>Escape</strong> - Close modals, close expanded cards
          </div>
          <div>
            <strong>Arrow keys</strong> - Navigate autocomplete suggestions
          </div>
          <div>
            <strong>Enter</strong> - Select autocomplete suggestion or expand card
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Location Consent Modal -->
  <div id="locationConsentModal" class="modal" role="dialog" aria-labelledby="locationConsentModalTitle" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="locationConsentModalTitle">Use Your Location</h2>
        <button type="button" class="modal-close" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <p style="margin-bottom: 16px;">Used only to sort by proximity. Not stored or shared.</p>
        <div class="modal-actions" style="display: flex; gap: 12px; justify-content: flex-end; margin-top: 24px;">
          <button type="button" class="btn-secondary" id="locationConsentCancel">Cancel</button>
          <button type="button" class="btn-primary" id="locationConsentAllow">Use my location</button>
        </div>
      </div>
    </div>
  </div>

  <script defer src="app.js?v=12"></script>
</body>
</html>
